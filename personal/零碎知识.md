当请求对缓存命中率要求很高的时候，不能再用旁路缓存策略（删缓存会降低命中率）。 要采用更新数据库+更新缓存的方式，其存在数据不一致的问题。解决方案： 1.在更新缓存前加**分布式锁** 2.在更新缓存时给它加上较短的过期时间

时钟回拨问题的解决：混合分级等待策略。根据回拨时间长短采用不同策略，在保证ID生成服务可用性的同时最小化性能影响。

秒级：10位机器码+20位**序列号**+30位时间戳+类型1位+版本号1位 毫秒级：10位机器码+10位序列号+40位时间戳+类型1位+版本号1位

5ms以内的小幅度回拨，采用Thread.onSpinWait()  自旋等待。不会放弃cpu时间片，但会释放并让出部分cpu资源

30ms以内的回拨使线程短暂休眠Thread.sleep(millis)

ip信息是存在内存里的吗，如果机器重启了导致ip丢失不可感知怎么办？
不会有这种问题，因为ip是存在分布式缓存集群里的
如果真的有这种情况，就从本地缓存可靠性的角度回答
